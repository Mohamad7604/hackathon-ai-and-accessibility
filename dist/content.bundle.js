new class{constructor(){this.initializeFonts(),this.loadUserPreferences(),this.setupMessageListener()}async initializeFonts(){try{const e=new FontFace("OpenDyslexic",`url(${chrome.runtime.getURL("fonts/OpenDyslexic/OpenDyslexic-Regular.otf")})`);await e.load(),document.fonts.add(e)}catch(e){console.error("Failed to load OpenDyslexic font:",e)}}setupMessageListener(){chrome.runtime.onMessage.addListener(((e,t,n)=>("updateStyles"===e.type&&this.applyStyles(e.settings),!0)))}async loadUserPreferences(){const e=await chrome.storage.sync.get({fontFamily:"Arial",letterSpacing:0,lineHeight:1.5,theme:"default"});this.applyStyles(e)}applyStyles(e){const t=document.getElementById("readable-styles");t&&t.remove();const n=document.createElement("style");n.id="readable-styles",n.textContent=`\n            body, p, div, span, h1, h2, h3, h4, h5, h6 {\n                font-family: "${e.fontFamily}" !important;\n                letter-spacing: ${e.letterSpacing}px !important;\n                line-height: ${e.lineHeight} !important;\n            }\n        `,"night"===e.theme&&(n.textContent+="\n                body {\n                    background-color: #1a1a1a !important;\n                    color: #ffffff !important;\n                }\n                a {\n                    color: #66b3ff !important;\n                }\n            "),document.head.appendChild(n)}};
//# sourceMappingURL=content.bundle.js.map